<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TikTok Clone</title>

  <!-- Ícono del sitio -->
  
  <link rel="icon" type="image/png" href="img/tk.PNG">

  <!-- Estilos principales -->
  <link rel="stylesheet" href="./styles.css">

  <!-- Color de barra de navegación en dispositivos Android (Chrome, Edge, etc.) -->
  <meta name="theme-color" content="#131313">

  <!-- Open Graph para mejorar cómo se ve al compartir -->
  <meta property="og:title" content="TikTok Clone">
  <meta property="og:description" content="Clon educativo de TikTok en modo oscuro">
  <meta property="og:image" content="/img/log.PNG">
  <meta property="og:type" content="website">
</head>

<body>
    <nav class="titulo">
        <h1>tiktok</h1>
        <button>...</button>
    </nav>
    <header>
        <div>
            <img src="./img/carlos.png" alt="Foto de perfil">
        </div>
        <div class="texto-perfil">
            <h3>@dev89</h3>
            <p>
                <strong>2</strong>
                <span>Following |</span>
                <strong>100</strong>
                <span>Followers |</span>
                <strong>100k</strong>
                <span>Likes</span>
            </p>
            <p>Aprendiz en Desarrollo Web y servicios en la nube...</p>
            <a href="https://carlosnamias.github.io/hvpf/"> <img src="img/enlace.svg" alt="">Mi portafolio</a>
        </div>
    </header>
    <nav class="nav-videos">
        <button class="btn-icono">
            <img src="img/galeria.svg" alt="Galeria" class="icono">
        </button>
        <button class="btn-icono">
            <img src="img/corazon.svg" alt="Galeria" class="icono">
        </button>
    </nav>
    <main id="imageContainer"></main>
<div id="loading" class="loading">Cargando...</div>

    <footer>
        <button class="btn-icono">
            <img src="img/home.svg" alt="Home" class="icono">
            <p>Home</p>
        </button>
        <button class="btn-icono">
            <img src="img/discover.svg" alt="Discover" class="icono">
            <p>Discover</p>
        </button>
        <button>
            <img class="tiktok" src="img/tiktok.svg" alt="Home" >
        </button>
        <button class="btn-icono">
            <img src="img/inbox.svg" alt="Inbox" class="icono">
            <p>Inbox</p>
        </button>
        <button class="btn-icono">
            <img src="img/profile.svg" alt="Profile" class="icono">
            <p>Profile</p>
        </button>
    </footer>

<script>
  // Lista de imágenes
  const contentList = [
    'img/paseo.jpg',
    'img/buildings-8713025_640.jpg',
    'img/ring-necked-parakeet-9560513_640.jpg',
    'img/good-morning-8097091_640.jpg',
    'img/roma.jpg',
    'img/iglesia.jpg'
  ];

  let currentIndex = 0;
  const itemsPerLoad = 6;
  const container = document.getElementById('imageContainer');
  const loading = document.getElementById('loading');

  // Verificar que los elementos existan
  if (!container || !loading) {
    console.error('Error: #imageContainer o #loading no encontrados en el DOM');
    return;
  }

  // Función para cargar imágenes
  function loadMoreContent() {
    console.log('Cargando más contenido...');
    loading.style.display = 'block';

    try {
      for (let i = 0; i < itemsPerLoad; i++) {
        if (currentIndex >= contentList.length) {
          currentIndex = 0; // Repetir lista
        }
        const img = document.createElement('img');
        img.src = contentList[currentIndex];
        img.alt = 'Video';
        img.loading = 'lazy';
        img.onerror = () => console.error(`Error al cargar imagen: ${img.src}`);
        img.onload = () => console.log(`Imagen cargada: ${img.src}`);
        container.appendChild(img);
        currentIndex++;
      }
      loading.style.display = 'none';
      console.log('Contenido cargado, currentIndex:', currentIndex);
    } catch (error) {
      console.error('Error en loadMoreContent:', error);
      loading.style.display = 'none';
      loading.textContent = 'Error al cargar contenido';
    }
  }

  // Cargar contenido inicial
  console.log('Cargando contenido inicial...');
  loadMoreContent();

  // Configurar IntersectionObserver
  const observer = new IntersectionObserver(
    (entries) => {
      if (entries[0].isIntersecting) {
        console.log('IntersectionObserver disparado');
        loadMoreContent();
      }
    },
    { threshold: 0.1, rootMargin: '200px' }
  );

  // Observar el elemento de carga
  observer.observe(loading);

  // Mezclar imágenes aleatoriamente al inicio
  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }
  shuffleArray(contentList);
</script>
    
    
   
</body>
</html>